<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This crate features utilities for finding the start, end, and range of lines from a byte index. Further also being able to find the next and previous line, from an arbitrary byte index."><meta name="keywords" content="rust, rustlang, rust-lang, line_span"><title>line_span - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../line_span/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../line_span/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate line_span</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.1.3</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../line_span/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">line_span</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/line_span/lib.rs.html#1-972">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This crate features utilities for finding the start, end, and range of lines
from a byte index.
Further also being able to find the next and previous line, from an arbitrary byte index.</p>
<p><strong>Current Line:</strong></p>
<ul>
<li><a href="fn.find_line_start.html"><code>find_line_start</code></a> to find the start of the current line.</li>
<li><a href="fn.find_line_end.html"><code>find_line_end</code></a> to find the end of the current line.</li>
<li><a href="fn.find_line_range.html"><code>find_line_range</code></a> to find the start and end current line.</li>
</ul>
<p><strong>Next Line:</strong></p>
<ul>
<li><a href="fn.find_next_line_start.html"><code>find_next_line_start</code></a> to find the start of the next line.</li>
<li><a href="fn.find_next_line_end.html"><code>find_next_line_end</code></a> to find the end of the next line.</li>
<li><a href="fn.find_next_line_range.html"><code>find_next_line_range</code></a> to find the start and end of the next line.</li>
</ul>
<p><strong>Previous Line:</strong></p>
<ul>
<li><a href="fn.find_prev_line_start.html"><code>find_prev_line_start</code></a> to find the start of the previous line.</li>
<li><a href="fn.find_prev_line_end.html"><code>find_prev_line_end</code></a> to find the end of the previous line.</li>
<li><a href="fn.find_prev_line_range.html"><code>find_prev_line_range</code></a> to find both start and end of the previous line.</li>
</ul>
<p><strong>Utilities:</strong></p>
<ul>
<li><a href="fn.str_to_range.html"><code>str_to_range</code></a> to get the range of a substring in a string.</li>
<li><a href="fn.str_to_range_unchecked.html"><code>str_to_range_unchecked</code></a> unchecked version of <a href="fn.str_to_range.html"><code>str_to_range</code></a>.</li>
</ul>
<h2 id="linespan-and-linespaniter"><a href="#linespan-and-linespaniter"><code>LineSpan</code> and <code>LineSpanIter</code></a></h2>
<p>The crate includes the <a href="struct.LineSpanIter.html"><code>LineSpanIter</code></a> iterator. It is functionally equivalent to <a href="https://doc.rust-lang.org/stable/core/primitive.str.html#method.lines"><code>str::lines</code></a>,
with the addition that it includes the ability to get the start and end byte indices of each line.
Additionally, it also includes the ability to get the end including and excluding the line ending (<code>\n</code> or <code>\r\n</code>).</p>
<p>An <a href="struct.LineSpanIter.html"><code>LineSpanIter</code></a> can be created by calling <a href="trait.LineSpans.html#tymethod.line_spans"><code>line_spans</code></a>,
implemented in the <a href="trait.LineSpans.html"><code>LineSpans</code></a> trait.
The crate implements the <a href="trait.LineSpans.html"><code>LineSpans</code></a> trait for <a href="https://doc.rust-lang.org/stable/core/primitive.str.html"><code>str</code></a> and <a href="https://doc.rust-lang.org/stable/core/string/struct.String.html"><code>String</code></a>.</p>
<p>Note, <a href="struct.LineSpan.html"><code>LineSpan</code></a> implements <a href="https://doc.rust-lang.org/stable/core/ops/trait.Deref.html"><code>Deref</code></a> to <a href="https://doc.rust-lang.org/stable/core/primitive.str.html"><code>&amp;str</code></a>, so in general,
swapping <a href="https://doc.rust-lang.org/stable/core/primitive.str.html#method.lines"><code>lines</code></a> to <a href="trait.LineSpans.html#tymethod.line_spans"><code>line_spans</code></a> would not cause many issues.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">line_span::LineSpans</span>;

<span class="kw">let</span> <span class="ident">text</span> <span class="op">=</span> <span class="string">&quot;foo\nbar\r\nbaz&quot;</span>;

<span class="kw">for</span> <span class="ident">span</span> <span class="kw">in</span> <span class="ident">text</span>.<span class="ident">line_spans</span>() {
    <span class="macro">println!</span>(
        <span class="string">&quot;{:&gt;2?}: {:?} {:?}&quot;</span>,
        <span class="ident">span</span>.<span class="ident">range</span>(),
        <span class="ident">span</span>.<span class="ident">as_str</span>(),
        <span class="ident">span</span>.<span class="ident">as_str_with_ending</span>(),
    );
}</code></pre></div>
<p>This will output the following:</p>
<div class="example-wrap"><pre class="language-text"><code>0.. 3: &quot;foo&quot; &quot;foo\n&quot;
4.. 7: &quot;bar&quot; &quot;bar\r\n&quot;
9..12: &quot;baz&quot; &quot;baz&quot;</code></pre></div><h2 id="current-line-previous-line-and-next-line"><a href="#current-line-previous-line-and-next-line">Current Line, Previous Line, and Next Line</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">line_span</span>::{<span class="ident">find_line_range</span>, <span class="ident">find_next_line_range</span>, <span class="ident">find_prev_line_range</span>};

<span class="kw">let</span> <span class="ident">text</span> <span class="op">=</span> <span class="string">&quot;foo\nbar\r\nbaz&quot;</span>;
<span class="comment">//                ^</span>
<span class="kw">let</span> <span class="ident">i</span> <span class="op">=</span> <span class="number">5</span>; <span class="comment">// &#39;a&#39; in &quot;bar&quot;</span>

<span class="kw">let</span> <span class="ident">curr_range</span> <span class="op">=</span> <span class="ident">find_line_range</span>(<span class="ident">text</span>, <span class="ident">i</span>);
<span class="kw">let</span> <span class="ident">next_range</span> <span class="op">=</span> <span class="ident">find_next_line_range</span>(<span class="ident">text</span>, <span class="ident">i</span>).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">prev_range</span> <span class="op">=</span> <span class="ident">find_prev_line_range</span>(<span class="ident">text</span>, <span class="ident">i</span>).<span class="ident">unwrap</span>();

<span class="macro">assert_eq!</span>(<span class="ident">curr_range</span>, <span class="number">4</span>..<span class="number">7</span>);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">text</span>[<span class="ident">curr_range</span>], <span class="string">&quot;bar&quot;</span>);

<span class="macro">assert_eq!</span>(<span class="ident">prev_range</span>, <span class="number">0</span>..<span class="number">3</span>);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">text</span>[<span class="ident">prev_range</span>], <span class="string">&quot;foo&quot;</span>);

<span class="macro">assert_eq!</span>(<span class="ident">next_range</span>, <span class="number">9</span>..<span class="number">12</span>);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">text</span>[<span class="ident">next_range</span>], <span class="string">&quot;baz&quot;</span>);</code></pre></div>
<h2 id="range-of-substring-in-string"><a href="#range-of-substring-in-string">Range of Substring in String</a></h2>
<p>Use <a href="fn.str_to_range.html"><code>str_to_range</code></a> (or <a href="fn.str_to_range_unchecked.html"><code>str_to_range_unchecked</code></a>) to get the
range of a substring in a string.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">string1</span> <span class="op">=</span> <span class="string">&quot;Foo Bar Baz&quot;</span>;
<span class="kw">let</span> <span class="ident">string2</span> <span class="op">=</span> <span class="string">&quot;Hello World&quot;</span>;

<span class="kw">let</span> <span class="ident">substring</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">string1</span>[<span class="number">4</span>..<span class="number">7</span>]; <span class="comment">// &quot;Bar&quot;</span>

<span class="comment">// Returns `Some` as `substring` is a part of `string1`</span>
<span class="macro">assert_eq!</span>(<span class="ident">str_to_range</span>(<span class="ident">string1</span>, <span class="ident">substring</span>), <span class="prelude-val">Some</span>(<span class="number">4</span>..<span class="number">7</span>));

<span class="comment">// Returns `None` as `substring` is not a part of `string2`</span>
<span class="macro">assert_eq!</span>(<span class="ident">str_to_range</span>(<span class="ident">string2</span>, <span class="ident">substring</span>), <span class="prelude-val">None</span>);</code></pre></div>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LineSpan.html" title="line_span::LineSpan struct">LineSpan</a></div><div class="item-right docblock-short"><p><code>LineSpan</code> represents a single line. It is possible to
get a <code>&amp;str</code> of the line both including and excluding
<code>\n</code> and <code>\r\n</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LineSpanIter.html" title="line_span::LineSpanIter struct">LineSpanIter</a></div><div class="item-right docblock-short"><p>An iterator over <code>LineSpan</code>s.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.LineSpans.html" title="line_span::LineSpans trait">LineSpans</a></div><div class="item-right docblock-short"><p>Trait which implements <a href="trait.LineSpans.html#tymethod.line_spans"><code>line_spans</code></a>
to get a <a href="struct.LineSpanIter.html"><code>LineSpanIter</code></a>.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_line_end.html" title="line_span::find_line_end fn">find_line_end</a></div><div class="item-right docblock-short"><p>Find the end (byte index) of the line, which <code>index</code> is within.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_line_range.html" title="line_span::find_line_range fn">find_line_range</a></div><div class="item-right docblock-short"><p>Find the start and end (byte index) of the line, which <code>index</code> is within.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_line_start.html" title="line_span::find_line_start fn">find_line_start</a></div><div class="item-right docblock-short"><p>Find the start (byte index) of the line, which <code>index</code> is within.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_next_line_end.html" title="line_span::find_next_line_end fn">find_next_line_end</a></div><div class="item-right docblock-short"><p>Find the end (byte index) of the next line, the line after the one which <code>index</code> is within.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_next_line_range.html" title="line_span::find_next_line_range fn">find_next_line_range</a></div><div class="item-right docblock-short"><p>Find the start and end (byte index) of the next line, the line after the one which <code>index</code> is within.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_next_line_start.html" title="line_span::find_next_line_start fn">find_next_line_start</a></div><div class="item-right docblock-short"><p>Find the start (byte index) of the next line, the line after the one which <code>index</code> is within.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_prev_line_end.html" title="line_span::find_prev_line_end fn">find_prev_line_end</a></div><div class="item-right docblock-short"><p>Find the end (byte index) of the previous line, the line before the one which <code>index</code> is within.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_prev_line_range.html" title="line_span::find_prev_line_range fn">find_prev_line_range</a></div><div class="item-right docblock-short"><p>Find the start and end (byte index) of the previous line, the line before the one which <code>index</code> is within.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_prev_line_start.html" title="line_span::find_prev_line_start fn">find_prev_line_start</a></div><div class="item-right docblock-short"><p>Find the start (byte index) of the previous line, the line before the one which <code>index</code> is within.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.str_to_range.html" title="line_span::str_to_range fn">str_to_range</a></div><div class="item-right docblock-short"><p>Get the start and end (byte index) range (<code>Range&lt;usize&gt;</code>), where <code>substring</code>
is located in <code>string</code>.
The returned range is relative to <code>string</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.str_to_range_unchecked.html" title="line_span::str_to_range_unchecked fn">str_to_range_unchecked</a></div><div class="item-right docblock-short"><p>Get the start and end (byte index) range (<code>Range&lt;usize&gt;</code>), where <code>substring</code>
is located in <code>string</code>.
The returned range is relative to <code>string</code>.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="line_span" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0-nightly (10f4ce324 2022-06-22)" ></div>
</body></html>